<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/longblog/static/img/favicon.png"><link rel="icon" href="/longblog/static/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="longalong"><meta name="keywords" content=""><title>简单的集群监控方案 - Longbao</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/longblog/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/longblog/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"iamlongalong.github.io",root:"/longblog/",version:"1.8.11",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/static/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}},search_path:"/local-search.xml"}</script><script src="/longblog/js/utils.js"></script><script src="/longblog/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/longblog/rss.xml" title="Longbao" type="application/atom+xml">
</head><body><header style="height:35vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/longblog/">&nbsp;<strong>Longbao</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/longblog/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/longblog/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/longblog/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/longblog/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/longblog/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/longblog/static/img/default.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="简单的集群监控方案"></span><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> longalong </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-02-15 01:04" pubdate>2023年2月15日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 1.6k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 19 分钟</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">简单的集群监控方案</h1><div class="markdown-body"><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>对于一个 saas 应用来说，面向的是广大用户，广大用户可能在任意一个时间点访问服务，因此，服务的高可用就变得非常重要了，用指标衡量的话，也就是 SLA (Service Level Agreement 服务等级保障)。</p><p>SLA 由两部分组成： 指标定义 + 目标 (SLI + SLO)(indicator + objective) 。具体的指标和目标根据不同的服务而定。对于一个系统的可用性，一般有一个很直观的指标：<code>1 - 当年宕机时长/当前总时长</code>，大家平常说的服务可用性为 2 个 9、3 个 9、4 个 9 基本值的都是这个。</p><p>指标，也就是这套体系中的基石了，指标的采集、指标是否健康的判断、异常之后的告警 组成了监控体系。</p><h2 id="常用的指标体系"><a href="#常用的指标体系" class="headerlink" title="常用的指标体系"></a>常用的指标体系</h2><p>“服务可观测性” 方面，我们一般有 3 个方向： log、metrics、tracing。 指标也一样，绝大多数指标都是从这三个方向中得出来的。</p><p>本文中我们暂不讨论 metrics 的细节，也不讨论 log 和 tracing 系统，一些 log 系统的信息可以参考 <a href="/longblog/posts/22_11_12_00_17_simple_ways_in_log_collect_in_k8s.html" name="简单的集群日志采集方案">简单的集群日志采集方案</a> ，tracing 体系之后再聊吧。 本文着重于实践搭建一套简单实用的集群监控体系。</p><p>经典的 metrics 体系是 <a target="_blank" rel="noopener" href="https://prometheus.io/docs/introduction/overview/">prometheus</a> + <a target="_blank" rel="noopener" href="https://grafana.com/docs/">grafana</a>，这也是大多数互联网同学熟悉的体系。 prometheus 作为一个 metrics 数据采集器 + tsdb 存储引擎 + promql 查询语句，能很好地满足 metrics 使用的需求。 之前在 <a href="/longblog/posts/23_02_09_23_45_code_reading_of_prometheus.html" name="prometheus代码走读">prometheus代码走读</a> 也对 prometheus 做了一些代码层的研读。</p><p>实际上 metrics 存储和查询体系，从技术实现来看并不是特别难。我觉得 prometheus 最大的成功在于 <a target="_blank" rel="noopener" href="https://prometheus.io/docs/operating/integrations/">生态</a> 。其一，它有比较完整的 client SDK，各语言都能很方便地集成；其二，它有齐全的工具链，采集、存储、查询、面板； 其三，它很好地实现了对 k8s 、service mesh 等的集成，云原生领域占了先机。</p><p>另外 一些常用的监控系统有: zabbix、open-falcon、Nagios、datadog 等。 各有一些优劣，空了的话可以再进一步了解下。</p><p>prometheus 竞品中有一个比较有意思的身影: ELK，对，就是那个大名鼎鼎的日志系统。 他们的方案是 <a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/beats/metricbeat/current/metricbeat-overview.html">metricsbeat</a> + elasticsearch + <a target="_blank" rel="noopener" href="https://www.elastic.co/cn/kibana/">kibana</a> 。</p><p>官方也有和一些竞品的对比： <a target="_blank" rel="noopener" href="https://prometheus.io/docs/introduction/comparison/">官方对比文档</a></p><p>我们就选用 prometheus + grafana 的方案进行后续的实操了。</p><h2 id="监控项"><a href="#监控项" class="headerlink" title="监控项"></a>监控项</h2><p>一般而言，我们的架构体系中都会把软件系统分为这么几层：</p><ul><li>基础设施层 (机器、虚拟机、网络、磁盘、集群等)</li><li>基础服务层 (数据库、缓存、队列、配置中心、注册/调度中心、网关等)</li><li>应用层 (业务应用)</li></ul><blockquote><p>当然，从更广泛的视角看，业务本身可以作为一层，主要关注业务指标相关的东西，例如注册量、转化率、用户路径等等。 这类指标被直接成为 <code>业务指标</code> ，一般不融入到技术的监控中来，主要采用的方案是 <code>埋点上报</code> + <code>BI 平台</code>，这方面的内容也非常丰富，只有可以专门梳理一下。</p></blockquote><p>prometheus 的生态非常好，除了非常具体的业务监控外，其他几乎都有对应的开源监控项。</p><ul><li>基础设施：<ul><li>node: <a target="_blank" rel="noopener" href="https://github.com/prometheus/node_exporter">https://github.com/prometheus/node_exporter</a></li><li>process: <a target="_blank" rel="noopener" href="https://github.com/ncabatoff/process-exporter">https://github.com/ncabatoff/process-exporter</a></li><li>network: <a target="_blank" rel="noopener" href="https://github.com/syepes/network_exporter">https://github.com/syepes/network_exporter</a></li></ul></li><li>k8s 集群：<ul><li><a target="_blank" rel="noopener" href="https://github.com/kubernetes/kube-state-metrics">https://github.com/kubernetes/kube-state-metrics</a></li><li><a target="_blank" rel="noopener" href="https://github.com/google/cadvisor">https://github.com/google/cadvisor</a></li></ul></li><li>基础服务：<ul><li>es: <a target="_blank" rel="noopener" href="https://github.com/prometheus-community/elasticsearch_exporter">https://github.com/prometheus-community/elasticsearch_exporter</a></li><li>pg: <a target="_blank" rel="noopener" href="https://github.com/prometheus-community/postgres_exporter">https://github.com/prometheus-community/postgres_exporter</a></li><li>java: <a target="_blank" rel="noopener" href="https://github.com/prometheus/jmx_exporter">https://github.com/prometheus/jmx_exporter</a></li><li>redis: <a target="_blank" rel="noopener" href="https://github.com/oliver006/">https://github.com/oliver006/</a></li><li>nginx: <a target="_blank" rel="noopener" href="https://github.com/nginxinc/nginx-prometheus-exporter">https://github.com/nginxinc/nginx-prometheus-exporter</a></li><li>mongodb: <a target="_blank" rel="noopener" href="https://github.com/percona/mongodb_exporter">https://github.com/percona/mongodb_exporter</a></li><li>gitlab-ci: <a target="_blank" rel="noopener" href="https://github.com/mvisonneau/gitlab-ci-pipelines-exporter">https://github.com/mvisonneau/gitlab-ci-pipelines-exporter</a></li><li>haproxy: <a target="_blank" rel="noopener" href="https://github.com/prometheus/haproxy_exporter">https://github.com/prometheus/haproxy_exporter</a></li><li>kafka-lag: <a target="_blank" rel="noopener" href="https://github.com/seglo/kafka-lag-exporter">https://github.com/seglo/kafka-lag-exporter</a></li><li>kafka: <a target="_blank" rel="noopener" href="https://github.com/redpanda-data/kminion">https://github.com/redpanda-data/kminion</a></li><li>kafka: <a target="_blank" rel="noopener" href="https://github.com/danielqsj/kafka_exporter">https://github.com/danielqsj/kafka_exporter</a></li><li>ssl: <a target="_blank" rel="noopener" href="https://github.com/ribbybibby/ssl_exporter">https://github.com/ribbybibby/ssl_exporter</a></li><li>gin: <a target="_blank" rel="noopener" href="https://github.com/zsais/go-gin-prometheus">https://github.com/zsais/go-gin-prometheus</a></li><li>ping: <a target="_blank" rel="noopener" href="https://github.com/czerwonk/ping_exporter">https://github.com/czerwonk/ping_exporter</a></li><li>nats: <a target="_blank" rel="noopener" href="https://github.com/nats-io/prometheus-nats-exporter">https://github.com/nats-io/prometheus-nats-exporter</a></li><li>influxdb: <a target="_blank" rel="noopener" href="https://github.com/prometheus/influxdb_exporter">https://github.com/prometheus/influxdb_exporter</a></li><li>rocketmq: <a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq-exporter">https://github.com/apache/rocketmq-exporter</a></li><li>airflow: <a target="_blank" rel="noopener" href="https://github.com/epoch8/airflow-exporter">https://github.com/epoch8/airflow-exporter</a></li><li>pagespeed: <a target="_blank" rel="noopener" href="https://github.com/foomo/pagespeed_exporter">https://github.com/foomo/pagespeed_exporter</a></li><li>ov: <a target="_blank" rel="noopener" href="https://github.com/kumina/openvpn_exporter">https://github.com/kumina/openvpn_exporter</a></li><li>logstash: <a target="_blank" rel="noopener" href="https://github.com/BonnierNews/logstash_exporter">https://github.com/BonnierNews/logstash_exporter</a></li><li>zk: <a target="_blank" rel="noopener" href="https://github.com/dabealu/zookeeper-exporter">https://github.com/dabealu/zookeeper-exporter</a></li></ul></li></ul><p>上面这些只是自己扒的 github 得到的，其实官方文档已经维护了一份更全的了： <a target="_blank" rel="noopener" href="https://prometheus.io/docs/instrumenting/exporters/">https://prometheus.io/docs/instrumenting/exporters/</a></p><ul><li>业务指标<ul><li>框架指标<ul><li>http 请求状态指标</li><li>ws 事件请求量、消息大小 histgram</li></ul></li><li>中间件使用指标<ul><li>kafka 消息情况 (可看 <a href="/longblog/posts/23_02_16_10_56_why_kafka_is_so_efficient.html#应用中的经验" name="WIP-kafka的高吞吐原因">sarama metrics 指标</a>)</li><li>数据库的连接情况、请求耗时等</li></ul></li><li>业务特性的指标<ul><li>eg: 登录失败人数</li></ul></li></ul></li></ul><h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><h3 id="二进制部署"><a href="#二进制部署" class="headerlink" title="二进制部署"></a>二进制部署</h3><p>在机器上搭建 prometheus 很简单，直接一个 二进制就起来了。</p><ul><li>二进制的下载 <a target="_blank" rel="noopener" href="https://prometheus.io/download/">可以从这里找</a></li><li>配置 可以参考<a target="_blank" rel="noopener" href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/">官方文档</a><ul><li>最简单的只用配 global 和 scrape_config 即可</li><li>如果要做告警，则要配置 <a target="_blank" rel="noopener" href="https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/">rules</a> 和 <a target="_blank" rel="noopener" href="https://prometheus.io/docs/alerting/latest/configuration/">alertManager</a>，告警的消息需要用 <a target="_blank" rel="noopener" href="https://prometheus.io/docs/prometheus/latest/configuration/template_examples/">模板</a> 来实现</li><li>如果要和 k8s 集成 <a target="_blank" rel="noopener" href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#kubernetes_sd_config">service discovery</a>，需要为 prometheus 创建 role 和 rolebinding (ns、svc、ep、pod、node、ing 等的 list、watch)</li></ul></li></ul><h3 id="k8s-部署"><a href="#k8s-部署" class="headerlink" title="k8s 部署"></a>k8s 部署</h3><p>使用 <a target="_blank" rel="noopener" href="https://github.com/prometheus-operator/prometheus-operator">prometheus-operator</a> , 这是对应的 <a target="_blank" rel="noopener" href="https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack">helm charts</a> 。<br>这是<a target="_blank" rel="noopener" href="https://prometheus-operator.dev/">官方文档</a></p><h2 id="告警"><a href="#告警" class="headerlink" title="告警"></a>告警</h2><ul><li><a target="_blank" rel="noopener" href="https://github.com/prometheus/alertmanager">https://github.com/prometheus/alertmanager</a> (官方告警服务)</li><li><a target="_blank" rel="noopener" href="https://github.com/samber/awesome-prometheus-alerts">https://github.com/samber/awesome-prometheus-alerts</a> (常用的 alerts)</li><li><a target="_blank" rel="noopener" href="https://github.com/feiyu563/PrometheusAlert">https://github.com/feiyu563/PrometheusAlert</a></li><li><a target="_blank" rel="noopener" href="https://www.aiops.com/docs/ca/">https://www.aiops.com/docs/ca/</a></li><li><a target="_blank" rel="noopener" href="https://github.com/pppscn/SmsForwarder">https://github.com/pppscn/SmsForwarder</a> (短信接码)</li></ul><h2 id="其他思考"><a href="#其他思考" class="headerlink" title="其他思考"></a>其他思考</h2><p>在监控</p><h2 id="文档直通车"><a href="#文档直通车" class="headerlink" title="文档直通车"></a>文档直通车</h2><ul><li><a href="/longblog/posts/22_11_06_00_54_health_check_and_monitor.html" name="WIP-健康检查与监控梳理">WIP-健康检查与监控梳理</a></li><li><a href="/notpublish/index.html" name="promethues的一些信息">promethues的一些信息</a></li><li><a href="/longblog/posts/23_02_09_23_45_code_reading_of_prometheus.html" name="prometheus代码走读">prometheus代码走读</a></li></ul><h2 id="不错的资料"><a href="#不错的资料" class="headerlink" title="不错的资料"></a>不错的资料</h2><ul><li><a target="_blank" rel="noopener" href="https://github.com/roaldnefs/awesome-prometheus">https://github.com/roaldnefs/awesome-prometheus</a> (信息聚合，非常不错)</li><li><a target="_blank" rel="noopener" href="https://github.com/crazy-canux/awesome-monitoring">https://github.com/crazy-canux/awesome-monitoring</a> (信息聚合，非常不错)</li><li><a target="_blank" rel="noopener" href="https://exporterhub.io/">https://exporterhub.io/</a> (有几个中间件的监控资料聚合的社区)</li><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34005738">https://zhuanlan.zhihu.com/p/34005738</a> (grafana 使用技巧)</li><li><a target="_blank" rel="noopener" href="https://prometheus.io/docs/practices/naming/">https://prometheus.io/docs/practices/naming/</a> (prometheus 官方最佳实践)</li><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/563799358">https://zhuanlan.zhihu.com/p/563799358</a> (grafana panel 发送图片 实践)</li><li><a target="_blank" rel="noopener" href="https://github.com/IzakMarais/reporter">https://github.com/IzakMarais/reporter</a> (grafana dashboard to pdf)</li><li><a target="_blank" rel="noopener" href="https://github.com/zuchka/grafana-awesome">https://github.com/zuchka/grafana-awesome</a></li><li><a target="_blank" rel="noopener" href="https://grafana.com/grafana/dashboards/">https://grafana.com/grafana/dashboards/</a> (grafana 社区看板)</li><li><a target="_blank" rel="noopener" href="https://github.com/starsliao/Prometheus">https://github.com/starsliao/Prometheus</a> 一哥们儿做的基础设施管理平台</li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input disabled type="checkbox"> 梳理一下业务指标体系建设</li><li><input disabled type="checkbox"> grafana 的具体实践流程走一次<ul><li><input disabled type="checkbox"> sso 配置、看板导入导出、权限设置</li></ul></li></ul><hr><blockquote><p>I know where I’m going and I know the truth, and I don’t have to be what you want me to be. I’m free to be what I want.<br>— <cite>Muhammad Ali</cite></p></blockquote></div><hr><div><div class="post-metas mb-3"><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/longblog/tags/operation/">operation</a> <a class="hover-with-bg" href="/longblog/tags/monitor/">monitor</a> <a class="hover-with-bg" href="/longblog/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a> <a class="hover-with-bg" href="/longblog/tags/k8s/">k8s</a> <a class="hover-with-bg" href="/longblog/tags/promethues/">promethues</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/longblog/posts/22_07_16_a_record_of_service_performance_improve.html"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">记一次服务性能的调优排查</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/longblog/posts/23_02_15_00_18_use_oss_for_file_backup.html"><span class="hidden-mobile">如何白嫖存储空间</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">备案: 粤ICP备2020131301号</a></span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script><script src="/longblog/js/events.js"></script><script src="/longblog/js/plugins.js"></script><script src="/longblog/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="/longblog/js/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/longblog/static/js/showiframe.js"></script><script src="/longblog/js/boot.js"></script></body></html>